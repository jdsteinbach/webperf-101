<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Web Performance 101</title>
    <meta name="description" content="Understanding Web Performance: How to measure and improve site speed">

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/custom.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement('link');
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window
        .location
        .search
        .match(/print-pdf/gi)
          ? 'css/print/pdf.css'
          : 'css/print/paper.css';
      document
        .getElementsByTagName('head')[0]
        .appendChild(link);
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        
          <section >
  <h1>Web <br/>Performance <br/>101</h1>

</section>

        
          <section >
  <h2>Expectations</h2>
<ul>
<li>Understand the lingo</li>
<li>Have a short list of good resources to refer back to</li>
<li>Set research goals for your use cases</li>
</ul>

</section>

        
          <section >
  <h2>What Is <em>Web Performance?</em></h2>

</section>

        
          <section >
  <blockquote>
<p>Make it fast.</p>
</blockquote>

</section>

        
          <section >
  <blockquote>
<p>Make it frictionless.</p>
</blockquote>

</section>

        
          <section >
  <blockquote>
<p>Make it accessible.</p>
</blockquote>
<ul>
<li>Accessibility is not “just screen readers”</li>
<li>Bigger file sizes are a barrier to access</li>
<li>“www” does not stand for “<a href="https://vimeo.com/194968584">wealthy Western web</a>”</li>
</ul>

</section>

        
          <section >
  <h3>Scope</h3>
<ul>
<li>JS</li>
<li>Images</li>
<li>CSS</li>
<li>~Server settings~</li>
</ul>

</section>

        
          <section >
  <h2>Measuring</h2>

</section>

        
          <section >
  <h3>Metrics</h3>
<ul>
<li>Total bytes</li>
<li>Page load time</li>
<li>Speed index</li>
<li>Render time</li>
<li>First meaningful/contentful paint</li>
<li>Layout shift</li>
</ul>

</section>

        
          <section >
  <h3>Tools</h3>
<ul>
<li><a href="https://www.webpagetest.org/">WebPageTest</a></li>
<li><a href="https://developers.google.com/web/tools/lighthouse/">Lighthouse</a></li>
<li><a href="https://www.npmjs.com/package/webpack-bundle-analyzer">webpack-bundle-analyzer</a></li>
</ul>

</section>

        
          <section data-background-image="images/webpagetest.png" data-background-position="top center" data-background-size="contain">
  
</section>

        
          <section data-background-image="images/lighthouse.png" data-background-position="top center" data-background-size="contain">
  
</section>

        
          <section data-background-image="images/webpack-bundle-analyzer.png" data-background-position="top center" data-background-size="contain">
  
</section>

        
          <section >
  <h2>JavaScript Performance</h2>

</section>

        
          <section >
  <h3>Bundle size</h3>
<ul>
<li>Uglification</li>
<li>Minification</li>
<li>Tree-shaking</li>
<li>Package choices</li>
</ul>

</section>

        
          <section >
  <h4>Uglification</h4>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;axios&#x27;</span>);
<span class="hljs-keyword">const</span> userID = <span class="hljs-number">127</span>;
<span class="hljs-keyword">const</span> getUserData = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">userID</span>) </span>{
  <span class="hljs-keyword">return</span> axios.get(<span class="hljs-string">&#x27;/user/&#x27;</span> + userID);
}
</code></pre>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> a=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;axios&quot;</span>),b=<span class="hljs-number">127</span>,c=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">return</span>
a.get(<span class="hljs-string">&quot;/user/&quot;</span>+e)}
</code></pre>

</section>

        
          <section >
  <h4>Minification</h4>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;axios&#x27;</span>);
<span class="hljs-keyword">const</span> userID = <span class="hljs-number">127</span>;

<span class="hljs-keyword">const</span> getUserData = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">userID</span>) </span>{
  <span class="hljs-keyword">return</span> axios.get(<span class="hljs-string">&#x27;/user/&#x27;</span> + userID);
}
</code></pre>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> axios=<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;axios&#x27;</span>);<span class="hljs-keyword">const</span> userID=<span class="hljs-number">127</span>;<span class="hljs-keyword">const</span>
getUserData=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">userID</span>)</span>{<span class="hljs-keyword">return</span> axios.get(<span class="hljs-string">&#x27;/user/&#x27;</span>
+userID)};
</code></pre>

</section>

        
          <section >
  <h4>Tree-Shaking</h4>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { AppBar, Button, Link, Menu } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;material-ui/core&#x27;</span>;
</code></pre>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> AppBar <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;material-ui/core/AppBar&#x27;</span>;
<span class="hljs-keyword">import</span> Button <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;material-ui/core/Button&#x27;</span>;
<span class="hljs-keyword">import</span> Link <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;material-ui/core/Link&#x27;</span>;
<span class="hljs-keyword">import</span> Menu <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;material-ui/core/Menu&#x27;</span>;
</code></pre>

</section>

        
          <section >
  <h3>Requests</h3>
<ul>
<li><code>async</code> - don’t interrupt rendering</li>
<li><code>defer</code> - load after page load finishes</li>
<li>bundle vs splitting vs modular loading</li>
</ul>

</section>

        
          <section >
  <h3>Code</h3>
<ul>
<li>Avoid memory leaks</li>
<li>Scope variables locally</li>
</ul>

</section>

        
          <section >
  <h2>Images</h2>

</section>

        
          <section >
  <h3>Compression</h3>
<ul>
<li>ImageOptim: <a href="https://www.npmjs.com/package/imageoptim">npm</a> | <a href="https://imageoptim.com/versions.html">desktop</a> | <a href="https://imageoptim.com/online">web app</a></li>
<li>SVGO: <a href="https://github.com/svg/svgo">npm</a> | <a href="https://github.com/svg/svgo#other-ways-to-use-svgo">desktop</a> | <a href="https://jakearchibald.github.io/svgomg/">web app</a></li>
<li>imagemin: <a href="https://github.com/imagemin/imagemin">npm</a></li>
</ul>

</section>

        
          <section >
  <h3>CDNs</h3>
<ul>
<li><a href="https://cloudinary.com/">Cloudinary</a></li>
<li><a href="https://fastly.com">Fastly</a></li>
<li><a href="https://imagekit.io/">ImageKit</a></li>
</ul>

</section>

        
          <section >
  <h3>Formats</h3>
<ul>
<li>SVG for vector shapes</li>
<li>PNG for raster + transparency</li>
<li>JPG for raster</li>
<li><a href="https://developers.google.com/speed/webp">WEBP</a> &amp; <a href="https://web.dev/compress-images-avif/">AVIF</a> for next-gen raster compression</li>
</ul>

</section>

        
          <section >
  <h3>Format Switching</h3>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">picture</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;image/avif&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;trees.avif&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;image/webp&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;trees.webp&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
    <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;trees.jpg&quot;</span>
    <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;A forest full of trees in fall&quot;</span>
  /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">picture</span>&gt;</span>
</code></pre>

</section>

        
          <section >
  <h3>Responsive Sizing</h3>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span>
  <span class="hljs-attr">srcset</span>=<span class="hljs-string">&quot;trees-lg.jpg 2000w,
          trees-sm.jpg 500w&quot;</span>
  <span class="hljs-attr">sizes</span>=<span class="hljs-string">&quot;(max-width: 500px) 500px,
         2000px&quot;</span>
  <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;trees.jpg&quot;</span>
  <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;A forest full of trees in fall&quot;</span>
/&gt;</span>
</code></pre>

</section>

        
          <section >
  <h3>Lazy-Loading</h3>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span>
  <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;trees.jpg&quot;</span>
  <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;A forest full of trees in fall&quot;</span>
  <span class="hljs-attr">loading</span>=<span class="hljs-string">&quot;lazy&quot;</span>
/&gt;</span>
</code></pre>

</section>

        
          <section >
  <h3>CDN + Responsive</h3>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">picture</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">source</span>
    <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;image/avif&quot;</span>
    <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.com/trees.avif&quot;</span>
  /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
    <span class="hljs-attr">srcset</span>=<span class="hljs-string">&quot;https://cdn.com/w_2000/trees.jpg 2000w,
            https://cdn.com/w_500/trees.jpg 500w&quot;</span>
    <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.com/trees.jpg&quot;</span>
    <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;A forest full of trees in fall&quot;</span>
    <span class="hljs-attr">loading</span>=<span class="hljs-string">&quot;lazy&quot;</span>
  /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">picture</span>&gt;</span>
</code></pre>

</section>

        
          <section >
  <h2>Fonts</h2>

</section>

        
          <section >
  <h3>Subsetting</h3>
<ul>
<li>Remove characters not in use</li>
<li><a href="https://www.filamentgroup.com/lab/glyphhanger/">glyphhanger</a></li>
</ul>

</section>

        
          <section >
  <h3>Loading</h3>
<ul>
<li><code>woff2</code> / <code>woff</code> format</li>
<li><code>font-display: swap</code></li>
<li>Self-hosted when possible</li>
<li><a href="https://www.zachleat.com/web/comprehensive-webfonts/">Zach’s Comprehensive Guide</a></li>
</ul>

</section>

        
          <section >
  <h2>CSS</h2>

</section>

        
          <section >
  <h2>File Size</h2>
<ul>
<li>Minification</li>
<li>Optimization:<br>
<code>0px</code> ➡ <code>0</code><br>
<code>rgb(200,175,20)</code> ➡ <code>#C8AF14</code></li>
</ul>

</section>

        
          <section >
  <h3>PostCSS Tools</h3>
<ul>
<li><a href="https://github.com/postcss/autoprefixer">Autoprefixer</a></li>
<li><a href="https://github.com/ben-eb/cssnano">cssnano</a></li>
</ul>

</section>

        
          <section >
  <h2>HTML</h2>
<ul>
<li>Minification</li>
<li><code>preload</code> / <code>prefetch</code></li>
</ul>

</section>

        
          <section >
  <h2>Server</h2>

</section>

        
          <section >
  <h3>Compression</h3>
<ul>
<li>Server compresses files; browser expands them.</li>
<li>gzip / brotli</li>
</ul>

</section>

        
          <section >
  
</section>

        
          <section >
  <h2>Resources</h2>

</section>

        
          <section >
  <h2>Thanks, Y’all! <div aria-hidden="true">👍</div></h2>

</section>

        
          <section >
  <h2>James Steinbach</h2>
<h3 class="mb-2">Senior Engineer<br /> at <a rel="noreferrer noopener nofollow" target="_blank" href="https://auth0.com/">
  <span class="sr-only">auth0</span>
  <svg viewBox="0 0 82 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="auth0-logo"><path d="M18.596 0H10.8l2.408 7.511h7.797l-6.307 4.473 2.409 7.55c4.058-2.957 5.39-7.438 3.898-12.031L18.596 0zM.593 7.511H8.39L10.799 0H3L.593 7.511C-.9 12.104.433 16.585 4.492 19.543l2.407-7.551L.593 7.511zm3.899 12.024L10.799 24l6.306-4.465L10.8 14.99l-6.307 4.545zM63.343 7.32c-1.842 0-3.022.837-3.572 2.2h-.143V3.34H56.86v16.163h2.83v-7.017c0-1.738 1.077-2.735 2.6-2.735 1.483 0 2.36.95 2.36 2.568v7.184h2.83v-7.655c-.007-2.91-1.65-4.528-4.138-4.528zm11.785-4.011c-3.827 0-6.14 2.998-6.147 8.205 0 5.222 2.296 8.26 6.147 8.26 3.843.008 6.148-3.03 6.148-8.26-.008-5.199-2.32-8.205-6.148-8.205zm-3.221 8.205c.008-3.804 1.244-5.805 3.221-5.805 1.356 0 2.36.925 2.862 2.719l-6.035 4.385a16.46 16.46 0 0 1-.048-1.3zm3.221 5.828c-1.395 0-2.424-.988-2.91-2.902l6.067-4.41c.048.463.072.957.072 1.492 0 3.827-1.236 5.82-3.229 5.82zm-31.009-2.886c0 1.826-1.307 2.735-2.56 2.735-1.362 0-2.264-.965-2.264-2.488V7.495h-2.83v7.647c0 2.886 1.642 4.52 4.003 4.52 1.802 0 3.061-.948 3.611-2.288h.128v2.137h2.743V7.495h-2.83v6.96zM30.062 7.312c-2.527 0-4.465 1.124-5.087 3.317l2.64.374c.279-.82 1.076-1.523 2.463-1.523 1.316 0 2.033.67 2.033 1.85v.048c0 .813-.853.853-2.974 1.076-2.328.248-4.56.95-4.56 3.652 0 2.36 1.73 3.612 4.018 3.612 1.882 0 3.006-.885 3.524-1.89h.096v1.651h2.719v-8.037c.008-3.174-2.575-4.13-4.872-4.13zm2.057 7.853c0 1.34-1.076 2.472-2.782 2.472-1.18 0-2.026-.542-2.026-1.579 0-1.084.95-1.538 2.21-1.722.74-.103 2.224-.287 2.598-.59v1.42zM52.994 4.49h-2.83v3.006h-1.715v2.256h1.714v6.65c-.016 2.257 1.627 3.373 3.756 3.31a5.58 5.58 0 0 0 1.443-.216v-2.24c-.215.031-.718.095-1.077.103-.71.016-1.283-.247-1.283-1.395V9.752h2.36V7.502h-2.368V4.489z"></path></svg>

</a></h3>
<h2><code>jdsteinbach</code></h2>
<h3><a rel="noreferrer noopener nofollow" target="_blank" href="https://twitter.com/jdsteinbach">Twitter</a> | <a rel="noreferrer noopener nofollow" target="_blank" href="https://github.com/jdsteinbach">GitHub</a> | <a href="https://jdsteinbach.com">Blog</a></h3>

</section>

        
      </div>

      <footer class="colophon">
        <div class="colophon__logo">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -200 3848 1800" focusable="false" aria-label="Front Range Front-End">
            <g fill-rule="evenodd">
              <path fill="#60569C" d="M1735.64 0L507.27 1750.66h174.1L1803.34 154.74h19.35l1121.96 1595.93h174.1L1890.36 0h-154.72z"></path>
              <path fill="#60569C" d="M1881.3 947.64L2209.45 441H2034.9L1817 788.83h-5.25l-217.88-347.8H1419.3l328.14 506.63h133.87z"></path>
              <path fill="#5C6443" d="M2753.76 467.26l-947.5 1361.57h179.06l835.6-1201.16h14.9l835.6 1201.16h179.06l-947.5-1361.57h-149.22z"></path>
              <path fill="#2C313E" d="M600.2 925.04L41.05 1749.4h174.6l448.62-665.22h8.83l448.66 665.2h174.57L737.2 925.05h-137z"></path>
            </g>
          </svg>
        </div>

        <a href="https://jdsteinbach.com/webperf-101/#/" class="colophon__link">jds.li/webperf-101</a>
      </footer>
    </div>

    <script src="js/reveal.js"></script>

    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        height: 600,
        width: 1200,
        hash: true,
        dependencies: [
          {
            src: 'plugin/notes/notes.js',
            async: true
          }
        ],
        transition: 'fade'
      });
    </script>
  </body>
</html>
